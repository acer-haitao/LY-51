C51 COMPILER V7.06   ²½½ø_ç»_×ª__Ô_Àí                                                      10/29/2016 14:26:22 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE ²½½ø_ç»_×ª__Ô_Àí
OBJECT MODULE PLACED IN .\obj\²½½øµç»ú×ª¶¯Ô­Àí.obj
COMPILER INVOKED BY: K:\win7\keil\C51\BIN\C51.EXE ²½½øµç»ú×ª¶¯Ô­Àí.c BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\²½½øµç»ú×ª¶¯Ô
                    -­Àí.lst) OBJECT(.\obj\²½½øµç»ú×ª¶¯Ô­Àí.obj)

stmt level    source

   1          /*-----------------------------------------------
   2            Ãû³Æ£º²½½øµç»ú
   3            ÂÛÌ³£ºwww.doflye.net
   4            ±àÐ´£ºshifang
   5            ÈÕÆÚ£º2009.5
   6            ÐÞ¸Ä£ºÎÞ
   7            ÄÚÈÝ£º±¾³ÌÐòÓÃÓÚ²âÊÔ4Ïà²½½øµç»ú³£¹æÇý¶¯ Ê¹ÓÃ1ÏàÀø´Å
   8          
   9           ------------------------------------------------*/
  10          
  11          #include <reg52.h>
  12          
  13          
  14          
  15          sbit A1=P1^0; //¶¨Òå²½½øµç»úÁ¬½Ó¶Ë¿Ú
  16          sbit B1=P1^1;
  17          sbit C1=P1^2;
  18          sbit D1=P1^3;
  19          
  20          
  21          #define Coil_A1 {A1=1;B1=0;C1=0;D1=0;}//AÏàÍ¨µç£¬ÆäËûÏà¶Ïµç
  22          #define Coil_B1 {A1=0;B1=1;C1=0;D1=0;}//BÏàÍ¨µç£¬ÆäËûÏà¶Ïµç
  23          #define Coil_C1 {A1=0;B1=0;C1=1;D1=0;}//CÏàÍ¨µç£¬ÆäËûÏà¶Ïµç
  24          #define Coil_D1 {A1=0;B1=0;C1=0;D1=1;}//DÏàÍ¨µç£¬ÆäËûÏà¶Ïµç
  25          #define Coil_OFF {A1=0;B1=0;C1=0;D1=0;}//È«²¿¶Ïµç
  26          
  27          unsigned char Speed;
  28          /*------------------------------------------------
  29           uSÑÓÊ±º¯Êý£¬º¬ÓÐÊäÈë²ÎÊý unsigned char t£¬ÎÞ·µ»ØÖµ
  30           unsigned char ÊÇ¶¨ÒåÎÞ·ûºÅ×Ö·û±äÁ¿£¬ÆäÖµµÄ·¶Î§ÊÇ
  31           0~255 ÕâÀïÊ¹ÓÃ¾§Õñ12M£¬¾«È·ÑÓÊ±ÇëÊ¹ÓÃ»ã±à,´óÖÂÑÓÊ±
  32           ³¤¶ÈÈçÏÂ T=tx2+5 uS 
  33          ------------------------------------------------*/
  34          void DelayUs2x(unsigned char t)
  35          {   
  36   1       while(--t);
  37   1      }
  38          /*------------------------------------------------
  39           mSÑÓÊ±º¯Êý£¬º¬ÓÐÊäÈë²ÎÊý unsigned char t£¬ÎÞ·µ»ØÖµ
  40           unsigned char ÊÇ¶¨ÒåÎÞ·ûºÅ×Ö·û±äÁ¿£¬ÆäÖµµÄ·¶Î§ÊÇ
  41           0~255 ÕâÀïÊ¹ÓÃ¾§Õñ12M£¬¾«È·ÑÓÊ±ÇëÊ¹ÓÃ»ã±à
  42          ------------------------------------------------*/
  43          void DelayMs(unsigned char t)
  44          {
  45   1           
  46   1       while(t--)
  47   1       {
  48   2           //´óÖÂÑÓÊ±1mS
  49   2           DelayUs2x(245);
  50   2               DelayUs2x(245);
  51   2       }
  52   1      }
  53          /*------------------------------------------------
  54                              Ö÷º¯Êý
C51 COMPILER V7.06   ²½½ø_ç»_×ª__Ô_Àí                                                      10/29/2016 14:26:22 PAGE 2   

  55          ------------------------------------------------*/
  56          main()
  57          {
  58   1       //unsigned int i=64*16; //×ª2ÖÜÍ£Ö¹
  59   1       Speed=5; //µ÷ÕûËÙ¶È
  60   1       while(1)  
  61   1        {         
  62   2           Coil_A1                 //Óöµ½Coil_A1  ÓÃ{A1=1;B1=0;C1=0;D1=0;}´úÌæ
  63   2           DelayMs(Speed);         //¸Ä±äÕâ¸ö²ÎÊý¿ÉÒÔµ÷Õûµç»ú×ªËÙ ,
  64   2                                       //Êý×ÖÔ½Ð¡£¬×ªËÙÔ½´ó,Á¦¾ØÔ½Ð¡
  65   2           Coil_B1
  66   2           DelayMs(Speed);
  67   2           Coil_C1
  68   2           DelayMs(Speed);
  69   2           Coil_D1
  70   2           DelayMs(Speed);
  71   2        }
  72   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     71    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
